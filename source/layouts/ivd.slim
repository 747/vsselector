doctype 5
html lang='ja'
  head
    meta charset='utf-8'
    title = current_page.data.title
    = stylesheet_link_tag("layout").gsub('href="/', 'href="./')
    / ^ very dirty, need work
    javascript:
      TYPES = [#{data.types.categories.map{|t|%Q("#{t}")}.join(',')}];
      COLLS = [#{data.types.collections.map{|t|%Q("#{t}")}.join(',')}];
      BASE_IDX = COLLS.indexOf("base");
    / = javascript_include_tag "jquery-1.12.1.min", "jquery-ui.min", "sprintf.min", "controller"
    = javascript_include_tag("jquery-1.12.1.min", "jquery-ui.min", "jsrender.min", "sprintf.min", "jquery.selection", "clipboard.min", "controller").gsub('src="/', 'src="./')
    / ^ very dirty, need work
  body#view
    .hero.is-dark
      .hero-head
        .nav
          .container
            .nav-left
              p.nav-item.is-brand = current_page.data.title
            .nav-right.nav-menu
              a.nav-item.modality data-target="#about" 説明
              a.nav-item href="https://github.com/747/vsselector" GitHub
    #workspace.columns.section.transparent
      #viewer.column.is-7
        textarea#bigbox.control.is-fullwidth placeholder="#{"\u{1F4DD}"}..."
        #breakdown.message.is-warning.is-fullwidth
          p#breakdown-body.message-body
      #picker.column.is-5.message.is-success
        - u = cp -> { "U+#{"%04X" % cp}" }
        p.message-header ←クリックで挿入
        ul#ivs style="display:block"
          - ivsn = 0xE0100
          - (17..256).each do |n|
            li id="ivs-#{n}": a.pick data-char="#{ivsn + n-17}": img title="VS#{n} (#{u[ivsn + n-17]})" alt="VS#{n}"
        ul#vs
          - svsn = 0xFE00
          - (1..14).each do |n|
            li id="vs-#{n}": a.pick data-char="#{svsn + n-1}": img title="VS#{n} (#{u[svsn + n-1]})" alt="VS#{n}"
          li id="vs-15": a.pick data-char="#{svsn + 0xE}": img title="VS15 (text style)" alt="VS15"
          li id="vs-16": a.pick data-char="#{svsn + 0xF}": img title="VS16 (emoji style)" alt="VS16"
        ul#fvs
          - fvsn = 0x180B
          - (1..3).each do |n|
            li id="fvs-#{n}": a.pick data-char="#{fvsn + n-1}": img title="FVS#{n} (#{u[fvsn + n-1]})" alt="FVS#{n}"
        ul#emod
          - emon = 0x1F3FB
          li id="fitz-12": a.pick data-char="#{emon}": img title="" alt="Fitz 1-2"
          - (3..6).each do |n|
            li id="fitz-#{n}": a.pick data-char="#{emon + n-2}": img title="" alt="Fitz #{n}" src="./images/e1/#{"%04x" % (emon + n-2)}.svg"
        #groups.tabs.is-centered.is-toggle
          ul
            li.is-active: a.toggler data-tab="#ivs" IVS
            li: a.toggler data-tab="#vs" VS
            li: a.toggler data-tab="#fvs" FVS
            li: a.toggler data-tab="#emod" Fitz.
    / hr
    #query.level
      p.level-item.control.has-addons.has-addons-centered
        input#searchbox.input type='text' name='char' placeholder="例：邊、270B…"
        button#search.button.is-primary type='submit' value='search'
          span#searchlabel 検索
    #entries
      #initial.message.is-info: p.has-text-centered.message-body 以下に検索結果が表示されます
      #notfound.message.is-warning: p.has-text-centered.message-body 見つかりませんでした
      table#found.is-striped
        / colgroup
        /   col.col-input span="1"
        /   col.col-data span="2"
        /   col.col-image span="1"
        /   col.col-data span="2"
        thead
          tr
            th#copy 表示
            th#codepoint コード
            th#variation セレクタ
            th#image 画像
            th#collection コレクション
            th#internal 識別名
        tbody#charlist
    #about.modal
      .modal-background
      .modal-content.box.content
        == yield
